<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Gráfico con horas</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.js"></script>
</head>
<body>

<canvas id="myChart" style="width:100%;max-width:600px"></canvas>

<script>
  // ⚠️ Sustituye esto por los datos reales del backend
  const datos = [
    { x: "2025-06-05T01:17:08", y: 26 },
    { x: "2025-06-05T02:07:18", y: 27 },
    { x: "2025-06-05T03:47:35", y: 26 },
    { x: "2025-06-05T04:37:41", y: 27 },
    { x: "2025-06-05T11:06:42", y: 26 },
    { x: "2025-06-05T13:45:00", y: 28 }
  ];

  // Procesar datos: extraer HH:mm para x, y mantener y
  const xValues = datos.map(d => {
    const date = new Date(d.x);
    return date.toTimeString().substring(0, 5); // devuelve "HH:mm"
  });

  const yValues = datos.map(d => d.y);

  new Chart("myChart", {
    type: "line",
    data: {
      labels: xValues,
      datasets: [{
        fill: false,
        lineTension: 0,
        backgroundColor: "rgba(0,0,255,1.0)",
        borderColor: "rgba(0,0,255,0.3)",
        data: yValues
      }]
    },
    options: {
      legend: { display: false },
      scales: {
        yAxes: [{ ticks: { min: 20, max: 30 } }]
      }
    }
  });
</script>

</body>
</html>
